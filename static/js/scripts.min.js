jQuery(function(e){var t=!1;e(document).ready(function(){var a,s,r,i;e("body").on("submit",".cwpmf",function(p){p.preventDefault(),t||(t=!0,a=e(this),r=a.serialize(),i=a.attr("data-to"),e(".cwpmf-label",a).each(function(t,a){e(".cwpmf-input",this).hasClass("cwpmf-field-with-error")&&(e(".cwpmf-input",this).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",this).text("")),e(".cwpmf-textarea",this).hasClass("cwpmf-field-with-error")&&(e(".cwpmf-textarea",this).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",this).text(""))}),s={action:"_cwpmf_send_email",serial:r,email_to:i},e.post(cwpAjax.ajaxurl,s,function(s){switch(s.success){case!0:console.log(s.data.message),e("input, textarea",a).attr("value",""),t=!1;break;case!1:console.log(s.data.message),!1===s.data.firstname[0]&&e("span",a).hasClass("cwpmf-input__firstname")&&(e(".cwpmf-input__firstname").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__firstname .cwpmf-input-error-msg",a).text(s.data.firstname[1])),!1===s.data.phone[0]&&e("span",a).hasClass("cwpmf-input__phone")&&(e(".cwpmf-input__phone").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__phone .cwpmf-input-error-msg",a).text(s.data.phone[1])),!1===s.data.textarea[0]&&e("span",a).hasClass("cwpmf-input__message")&&(e(".cwpmf-input__message").closest(".cwpmf-label").find("textarea").addClass("cwpmf-field-with-error"),e(".cwpmf-input__message .cwpmf-input-error-msg",a).text(s.data.textarea[1])),t=!1;break;default:console.log("Unknown error!"),t=!1}}))})})});