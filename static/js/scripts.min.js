jQuery(function(a){var e=!1;a(document).ready(function(){var t,s,p,c,u,n;a("body").on("submit",".cwpmf",function(i){i.preventDefault(),e||(e=!0,t=a(this),p=t.attr("data-to"),a(".cwpmf-input-error-msg",t).text(""),c=new Array,a("input",t).hasClass("cwpmf-input-text")&&a(".cwpmf-input-text").each(function(e,t){c.push({type:"text",class:a(this).attr("class"),required:a(this).attr("data-required"),value:a(this).val()})}),a("input",t).hasClass("cwpmf-input-name")&&a(".cwpmf-input-name").each(function(e,t){c.push({type:"name",class:a(this).attr("class"),required:a(this).attr("data-required"),value:a(this).val()})}),a("input",t).hasClass("cwpmf-input-phone")&&a(".cwpmf-input-phone").each(function(e,t){c.push({type:"phone",class:a(this).attr("class"),required:a(this).attr("data-required"),value:a(this).val()})}),a("input",t).hasClass("cwpmf-input-email")&&a(".cwpmf-input-email").each(function(e,t){c.push({type:"email",class:a(this).attr("class"),required:a(this).attr("data-required"),value:a(this).val()})}),a("textarea",t).hasClass("cwpmf-input-message")&&a(".cwpmf-input-message").each(function(e,t){c.push({type:"message",class:a(this).attr("class"),required:a(this).attr("data-required"),value:a(this).val()})}),s={action:"_cwpmf_send_email",email_to:p,fields_array:c},a.post(cwpAjax.ajaxurl,s,function(s){switch(s.success){case!0:a(".cwpmf-popup-message").html(s.data.message),a(".cwpmf-popup").css("display","block"),setTimeout(function(){a(".cwpmf-popup").css("z-index","51"),a(".cwpmf-popup").removeClass("fadeOut").addClass("fadeIn"),a(".cwpmf-popup-inner").removeClass("bounceOutUp").addClass("jackInTheBox")},1),a("input, textarea",t).attr("value",""),e=!1;break;case!1:if(console.log(s.data.message),s.data.array)for(u=0;u<s.data.array.length;u++)n="."+s.data.array[u].class,n=n.replace(/ /g,"."),a(n,t).closest(".cwpmf-label").find(".cwpmf-input-error-msg").text(s.data.array[u].message);e=!1;break;default:console.log("Unknown error!"),e=!1}}))}),a("body").on("click",".cwpmf-popup__close, .cwpmf-popup-button__link",function(e){e.preventDefault(),a(".cwpmf-popup-inner").removeClass("jackInTheBox").addClass("bounceOutUp"),a(".cwpmf-popup").removeClass("fadeIn").addClass("fadeOut"),setTimeout(function(){a(".cwpmf-popup").css("display","none"),a(".cwpmf-popup-message").html(""),a(".cwpmf-popup").css("z-index","-1")},1e3)})})});