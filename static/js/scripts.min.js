jQuery(function(e){var a=!1;e(document).ready(function(){var t,p,s,n;e("body").on("submit",".cwpmf",function(c){c.preventDefault(),a||(a=!0,t=e(this),s=t.serialize(),n=t.attr("data-to"),e(".cwpmf-label",t).each(function(a,t){e(".cwpmf-input",this).hasClass("cwpmf-field-with-error")&&(e(".cwpmf-input",this).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",this).text("")),e(".cwpmf-textarea",this).hasClass("cwpmf-field-with-error")&&(e(".cwpmf-textarea",this).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",this).text(""))}),p={action:"_cwpmf_send_email",serial:s,email_to:n},e.post(cwpAjax.ajaxurl,p,function(p){switch(p.success){case!0:e(".cwpmf-popup-message").html(p.data.message),e(".cwpmf-popup").css("display","block"),setTimeout(function(){e(".cwpmf-popup").removeClass("fadeOut").addClass("fadeIn"),e(".cwpmf-popup-inner").removeClass("bounceOutUp").addClass("jackInTheBox")},1),e("input, textarea",t).attr("value",""),a=!1;break;case!1:console.log(p.data.message),!1===p.data.firstname[0]&&e("span",t).hasClass("cwpmf-input__firstname")&&(e(".cwpmf-input__firstname").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__firstname .cwpmf-input-error-msg",t).text(p.data.firstname[1])),!1===p.data.phone[0]&&e("span",t).hasClass("cwpmf-input__phone")&&(e(".cwpmf-input__phone").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__phone .cwpmf-input-error-msg",t).text(p.data.phone[1])),!1===p.data.textarea[0]&&e("span",t).hasClass("cwpmf-input__message")&&(e(".cwpmf-input__message").closest(".cwpmf-label").find("textarea").addClass("cwpmf-field-with-error"),e(".cwpmf-input__message .cwpmf-input-error-msg",t).text(p.data.textarea[1])),a=!1;break;default:console.log("Unknown error!"),a=!1}}))}),e("body").on("click",".cwpmf-popup__close, .cwpmf-popup-button__link",function(a){a.preventDefault(),e(".cwpmf-popup-inner").removeClass("jackInTheBox").addClass("bounceOutUp"),e(".cwpmf-popup").removeClass("fadeIn").addClass("fadeOut"),setTimeout(function(){e(".cwpmf-popup").css("display","none"),e(".cwpmf-popup-message").html("")},1e3)})})});