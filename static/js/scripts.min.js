jQuery(function(e){var a=!1;e(document).ready(function(){var s,t,p,i,n=!1,m=!1,f=!1,c=!1;e("body").on("submit",".cwpmf",function(r){r.preventDefault(),a||(a=!0,s=e(this),p=s.serialize(),i=s.attr("data-to"),e(".cwpmf-label",s).each(function(a,s){e(".cwpmf-input",this).hasClass("cwpmf-field-with-error")&&(e(".cwpmf-input",this).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",this).text("")),e(".cwpmf-textarea",this).hasClass("cwpmf-field-with-error")&&(e(".cwpmf-textarea",this).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",this).text("")),e("input",this).hasClass("cwpmf-input-firstname")&&(n=!0),e("input",this).hasClass("cwpmf-input-phone")&&(m=!0),e("input",this).hasClass("cwpmf-input-email")&&(c=!0),e("textarea",this).hasClass("cwpmf-input-message")&&(f=!0)}),t={action:"_cwpmf_send_email",serial:p,email_to:i,is_firstname:n,is_phone:m,is_email:c,is_message:f},e.post(cwpAjax.ajaxurl,t,function(t){switch(t.success){case!0:e(".cwpmf-popup-message").html(t.data.message),e(".cwpmf-popup").css("display","block"),setTimeout(function(){e(".cwpmf-popup").removeClass("fadeOut").addClass("fadeIn"),e(".cwpmf-popup-inner").removeClass("bounceOutUp").addClass("jackInTheBox")},1),e("input, textarea",s).attr("value",""),a=!1;break;case!1:console.log(t.data.message),!1===t.data.firstname[0]&&e("span",s).hasClass("cwpmf-input__firstname")&&(e(".cwpmf-input__firstname").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__firstname .cwpmf-input-error-msg",s).text(t.data.firstname[1])),!1===t.data.phone[0]&&e("span",s).hasClass("cwpmf-input__phone")&&(e(".cwpmf-input__phone").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__phone .cwpmf-input-error-msg",s).text(t.data.phone[1])),!1===t.data.email[0]&&e("span",s).hasClass("cwpmf-input__email")&&(e(".cwpmf-input__email").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__email .cwpmf-input-error-msg",s).text(t.data.email[1])),!1===t.data.textarea[0]&&e("span",s).hasClass("cwpmf-input__message")&&(e(".cwpmf-input__message").closest(".cwpmf-label").find("textarea").addClass("cwpmf-field-with-error"),e(".cwpmf-input__message .cwpmf-input-error-msg",s).text(t.data.textarea[1])),a=!1;break;default:console.log("Unknown error!"),a=!1}}))}),e("body").on("click",".cwpmf-popup__close, .cwpmf-popup-button__link",function(a){a.preventDefault(),e(".cwpmf-popup-inner").removeClass("jackInTheBox").addClass("bounceOutUp"),e(".cwpmf-popup").removeClass("fadeIn").addClass("fadeOut"),setTimeout(function(){e(".cwpmf-popup").css("display","none"),e(".cwpmf-popup-message").html("")},1e3)})})});