jQuery(function(e){var s=!1;e(document).ready(function(){var a,p,t,i,n=!1,m=!1,c=!1,f=!1;e("body").on("submit",".cwpmf",function(r){r.preventDefault(),s||(s=!0,a=e(this),t=a.serialize(),i=a.attr("data-to"),e(".cwpmf-label",a).each(function(s,a){e(".cwpmf-input",this).hasClass("cwpmf-field-with-error")&&(e(".cwpmf-input",this).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",this).text("")),e(".cwpmf-textarea",this).hasClass("cwpmf-field-with-error")&&(e(".cwpmf-textarea",this).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",this).text("")),e("input",this).hasClass("cwpmf-input-firstname")&&(n=!0),e("input",this).hasClass("cwpmf-input-phone")&&(m=!0),e("input",this).hasClass("cwpmf-input-email")&&(f=!0),e("textarea",this).hasClass("cwpmf-input-message")&&(c=!0)}),p={action:"_cwpmf_send_email",serial:t,email_to:i,is_firstname:n,is_phone:m,is_email:f,is_message:c},e.post(cwpAjax.ajaxurl,p,function(p){switch(p.success){case!0:e(".cwpmf-popup-message").html(p.data.message),e(".cwpmf-popup").css("display","block"),setTimeout(function(){e(".cwpmf-popup").css("z-index","51"),e(".cwpmf-popup").removeClass("fadeOut").addClass("fadeIn"),e(".cwpmf-popup-inner").removeClass("bounceOutUp").addClass("jackInTheBox")},1),e("input, textarea",a).attr("value",""),s=!1;break;case!1:console.log(p.data.message),!1===p.data.firstname[0]&&e("span",a).hasClass("cwpmf-input__firstname")&&(e(".cwpmf-input__firstname").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__firstname .cwpmf-input-error-msg",a).text(p.data.firstname[1])),!1===p.data.phone[0]&&e("span",a).hasClass("cwpmf-input__phone")&&(e(".cwpmf-input__phone").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__phone .cwpmf-input-error-msg",a).text(p.data.phone[1])),!1===p.data.email[0]&&e("span",a).hasClass("cwpmf-input__email")&&(e(".cwpmf-input__email").closest(".cwpmf-label").find("input").addClass("cwpmf-field-with-error"),e(".cwpmf-input__email .cwpmf-input-error-msg",a).text(p.data.email[1])),!1===p.data.textarea[0]&&e("span",a).hasClass("cwpmf-input__message")&&(e(".cwpmf-input__message").closest(".cwpmf-label").find("textarea").addClass("cwpmf-field-with-error"),e(".cwpmf-input__message .cwpmf-input-error-msg",a).text(p.data.textarea[1])),s=!1;break;default:console.log("Unknown error!"),s=!1}}))}),e("body").on("click",".cwpmf-popup__close, .cwpmf-popup-button__link",function(s){s.preventDefault(),e(".cwpmf-popup-inner").removeClass("jackInTheBox").addClass("bounceOutUp"),e(".cwpmf-popup").removeClass("fadeIn").addClass("fadeOut"),setTimeout(function(){e(".cwpmf-popup").css("display","none"),e(".cwpmf-popup-message").html(""),e(".cwpmf-popup").css("z-index","-1")},1e3)})})});