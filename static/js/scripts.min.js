jQuery(function(e){var a=!1;e(document).ready(function(){var p,t,s,i,u,n,c;e("body").on("submit",".cwpmf",function(o){o.preventDefault(),a||(a=!0,p=e(this),s=p.attr("data-to"),c=e("#cwpmf_nonce_field",p).val(),e("input, textarea",p).removeClass("cwpmf-field-with-error"),e(".cwpmf-input-error-msg",p).text(""),i=new Array,e("input",p).hasClass("cwpmf-input-text")&&e(".cwpmf-input-text").each(function(a,p){i.push({type:"text",id:e(this).attr("id"),required:e(this).attr("data-required"),value:e(this).val()})}),e("input",p).hasClass("cwpmf-input-name")&&e(".cwpmf-input-name").each(function(a,p){i.push({type:"name",id:e(this).attr("id"),required:e(this).attr("data-required"),value:e(this).val()})}),e("input",p).hasClass("cwpmf-input-phone")&&e(".cwpmf-input-phone").each(function(a,p){i.push({type:"phone",id:e(this).attr("id"),required:e(this).attr("data-required"),value:e(this).val()})}),e("input",p).hasClass("cwpmf-input-email")&&e(".cwpmf-input-email").each(function(a,p){i.push({type:"email",id:e(this).attr("id"),required:e(this).attr("data-required"),value:e(this).val()})}),e("textarea",p).hasClass("cwpmf-input-message")&&e(".cwpmf-input-message").each(function(a,p){i.push({type:"message",id:e(this).attr("id"),required:e(this).attr("data-required"),value:e(this).val()})}),t={action:"_cwpmf_send_email",email_to:s,nonce:c,fields_array:i},e.post(cwpAjax.ajaxurl,t,function(t){switch(t.success){case!0:e(".cwpmf-popup-message").html(t.data.message),e(".cwpmf-popup").css("display","block"),setTimeout(function(){e(".cwpmf-popup").css("z-index","51"),e(".cwpmf-popup").removeClass("fadeOut").addClass("fadeIn"),e(".cwpmf-popup-inner").removeClass("bounceOutUp").addClass("jackInTheBox")},1),e("input, textarea",p).attr("value",""),a=!1;break;case!1:if(t.data.array)for(console.log(t.data.message),u=0;u<t.data.array.length;u++)""!=t.data.array[u].message&&(n="#"+t.data.array[u].id,e(n,p).addClass("cwpmf-field-with-error"),e(n,p).closest(".cwpmf-label").find(".cwpmf-input-error-msg").text(t.data.array[u].message));else e(".cwpmf-popup-message").html(t.data.message),e(".cwpmf-popup").css("display","block"),setTimeout(function(){e(".cwpmf-popup").css("z-index","51"),e(".cwpmf-popup").removeClass("fadeOut").addClass("fadeIn"),e(".cwpmf-popup-inner").removeClass("bounceOutUp").addClass("jackInTheBox")},1);a=!1;break;default:e(".cwpmf-popup-message").html(t.data.message),e(".cwpmf-popup").css("display","block"),setTimeout(function(){e(".cwpmf-popup").css("z-index","51"),e(".cwpmf-popup").removeClass("fadeOut").addClass("fadeIn"),e(".cwpmf-popup-inner").removeClass("bounceOutUp").addClass("jackInTheBox")},1),a=!1}}))}),e("body").on("click",".cwpmf-popup__close, .cwpmf-popup-button__link",function(a){a.preventDefault(),e(".cwpmf-popup-inner").removeClass("jackInTheBox").addClass("bounceOutUp"),e(".cwpmf-popup").removeClass("fadeIn").addClass("fadeOut"),setTimeout(function(){e(".cwpmf-popup").css("display","none"),e(".cwpmf-popup-message").html(""),e(".cwpmf-popup").css("z-index","-1")},1e3)})})});